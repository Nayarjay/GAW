(()=>{"use strict";var e={d:(n,s)=>{for(var o in s)e.o(s,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:s[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};e.d({},{mw:()=>f});var n=document.getElementById("renderCanvas"),s=new BABYLON.Engine(n,!0);new BABYLON.Scene(s);var o=document.getElementById("renderCanvas"),t=new BABYLON.Engine(o,!0);new BABYLON.Scene(t),document.getElementById("renderCanvas");var i=document.getElementById("renderCanvas"),r=new BABYLON.Engine(i,!0);new BABYLON.Scene(r);class a{constructor(e){this.scene=e}async CreateTree(e,n,s){let o,t;return BABYLON.SceneLoader.ImportMesh("","./models/","Tree.glb",this.scene,(i=>{console.log("Chargement réussi arbre",i),o=i[0],t=i[1],t.name="tronc",o.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(t,BABYLON.PhysicsShapeType.BOX,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(t,BABYLON.PhysicsShapeType.BOX,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async CreatePineTree(e,n,s){let o,t;return BABYLON.SceneLoader.ImportMesh("","./models/","Pine Tree with Snow.glb",this.scene,(i=>{console.log("Chargement réussi arbre",i),i[0].scaling.x=3,i[0].scaling.y=2,i[0].scaling.z=4,o=i[0],t=i[1],t.name="tronc",console.log(t.name),o.position=new BABYLON.Vector3(e,n,s);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,1,3),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(3,3,5),this.scene),a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,1,3),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(3,3,5),this.scene);new BABYLON.PhysicsAggregate(t,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(t,a,{mass:0},this.scene)}),void 0,void 0,".glb")}CreateSnowManOnSki(e,n,s,o){let t;return BABYLON.SceneLoader.ImportMesh("","./models/","snowman_on_skis.glb",this.scene,(i=>{console.log("Chargement réussi SnowMan",i),t=i[0],t.name="SnowMan",t.position=new BABYLON.Vector3(e,n,s),t.setParent(o)}),void 0,void 0,".glb"),{mesh:t}}async CreateSceneProd(e,n,s){}async CreatePlayer(e,n,s){}async Zone(e,n,s){}async plane(e,n,s,o,t,i){var r=BABYLON.MeshBuilder.CreateGround("ground",{width:o,height:t,subdivisions:1},i);r.position.addInPlace(new BABYLON.Vector3(e,n,s)),r.rotation=new BABYLON.Vector3(-.1,0,0),new BABYLON.PhysicsAggregate(r,BABYLON.PhysicsShapeType.BOX,{mass:0},i);var a=new BABYLON.StandardMaterial("groundMaterial",i);return a.diffuseColor=new BABYLON.Color3(.92,.29,.28),r.material=a,r}async flatplane(e,n,s,o,t,i){var r=BABYLON.MeshBuilder.CreateGround("ground",{width:o,height:t,subdivisions:1},i);r.position.addInPlace(new BABYLON.Vector3(e,n,s)),r.rotation=new BABYLON.Vector3(0,0,0),new BABYLON.PhysicsAggregate(r,BABYLON.PhysicsShapeType.BOX,{mass:0},i);var a=new BABYLON.StandardMaterial("groundMaterial",i);return a.diffuseColor=new BABYLON.Color3(.92,.29,.28),r.material=a,r}async createDeadTree(e,n,s){let o;return BABYLON.SceneLoader.ImportMesh("","./models/","Dead Trees With Snow.glb",this.scene,(t=>{console.log("Chargement réussi arbre",t),t[0].scaling.x=30,t[0].scaling.y=20,t[0].scaling.z=20;let i=t[0];o=t[1],o.name="tronc",console.log(o.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,1,3),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(30,30,30),this.scene);i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(o,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(o,BABYLON.PhysicsShapeType.BOX,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async createSnowTree(e,n,s){let o;return BABYLON.SceneLoader.ImportMesh("","./models/","Snow Tree.glb",this.scene,(t=>{console.log("Chargement réussi arbre",t),t[0].scaling.x=10,t[0].scaling.y=10,t[0].scaling.z=10;let i=t[0];o=t[1],o.name="tronc",console.log(o.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene),a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene);i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(o,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(o,a,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async createLitleSnowTree(e,n,s){let o;return BABYLON.SceneLoader.ImportMesh("","./models/","Pine Tree with Snow two.glb",this.scene,(t=>{console.log("Chargement réussi arbre",t),t[0].scaling.x=10,t[0].scaling.y=10,t[0].scaling.z=10;let i=t[0];o=t[1],o.name="tronc",console.log(o.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene),a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene);i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(o,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(o,a,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async createSnowMan(e,n,s){let o;return BABYLON.SceneLoader.ImportMesh("","./models/","SnowManRotated.glb",this.scene,(t=>{console.log("Chargement réussi arbre",t),t[0].scaling.x=1,t[0].scaling.y=1,t[0].scaling.z=1;let i=t[0];o=t[1],o.name="tronc",console.log("SNOWMAN "+i.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,4,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene),a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,4,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene);i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(o,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(o,a,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateRampe1(e,n,s){let o=BABYLON.SceneLoader.ImportMesh("","./models/","rampe_2.glb",this.scene,(o=>{console.log("Chargement réussi",o),o[0].scaling.x=5,o[0].scaling.y=5,o[0].scaling.z=5;let t=o[0];console.log(o[1].name),t.name="Rampe";let i=o[1];t.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(i,BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene)}),void 0,void 0,".glb");return o.position=new BABYLON.Vector3(e,n,s),{bigMesh:o}}createSnowMount(e,n,s){let o=BABYLON.SceneLoader.ImportMesh("","./models/","Rock Forms 3 (White).glb",this.scene,(o=>{console.log("Chargement réussi",o),o[0].scaling.x=150,o[0].scaling.y=150,o[0].scaling.z=150;const t=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,4,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(10,10,20),this.scene);let i=o[0];i.name="tronc",console.log(o[1].name);let r=o[1];r.name="tronc",i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(i,t,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(r,BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene)}),void 0,void 0,".glb");return o.position=new BABYLON.Vector3(e,n,s),{bigMesh:o}}createFinalScene2(e,n,s){let o=BABYLON.SceneLoader.ImportMesh("","./models/","finalscene2.glb",this.scene,(o=>{console.log("Chargement réussi",o),new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(10,10,20),this.scene);let t=o[0];t.name="tronc",console.log(o[2].name),this.scene.getMeshByName("Cube (sol)"),t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb");return o.position=new BABYLON.Vector3(e,n,s),{bigMesh:o}}CreatePlateform(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","plateforme_scene3.glb",this.scene,(o=>{console.log("Chargement réussi plateform",o);let t=o[0];t.name="colision",t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreatePlateform_Scene4(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","scene4_gameplay_ELEMENT.glb",this.scene,(o=>{console.log("Chargement réussi plateform",o);let t=o[0];t.name="colision",t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateBowlingBall(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","Spiky Ball.glb",this.scene,(o=>{console.log("Chargement réussi ball",o);let t=o[0];t.name="ball",t.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(t,BABYLON.PhysicsShapeType.SPHERE,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateColiseum(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","coliseum.glb",this.scene,(o=>{console.log("Chargement réussi coliseum",o);let t=o[0];t.name="coliseum",t.position=new BABYLON.Vector3(e,n,s)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateColiseum(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","coliseum.glb",this.scene,(o=>{console.log("Chargement réussi coliseum",o);let t=o[0];t.name="coliseum",t.position=new BABYLON.Vector3(e,n,s)}),void 0,void 0,".glb"),{boundingBox:void 0}}}const B=class{constructor(e,n,s,o,t,i,r){this.setupKeyboardInputPlayer(e,s,o,t,i,r)}setupKeyboardInputPlayer(e,n,s,o,t,i){this.keys={};let r=!1,a=!1;e.addEventListener("keydown",(e=>{this.keys[e.key]||(this.keys[e.key]=!0,e.key!==o||r||(r=!0),e.key!==t||a||(a=!0,console.log("Touche enfoncée, action effectuée jump")))})),e.addEventListener("keyup",(e=>{this.keys[e.key]=!1,e.key===t&&(a=!1,console.log("Touche relâchée jump")),e.key===o&&(r=!1)})),n.runRenderLoop((()=>{r&&(s.applyForce(new BABYLON.Vector3(0,0,-50),new BABYLON.Vector3(0,0,0)),s.setAngularVelocity(new BABYLON.Vector3(0,0,0)),r=!1),a&&(s.applyForce(new BABYLON.Vector3(0,100,0),new BABYLON.Vector3(0,0,0)),s.setAngularVelocity(new BABYLON.Vector3(0,0,0)),a=!1),s.setAngularVelocity(new BABYLON.Vector3(0,0,0))}))}};var c=new BABYLON.Engine(l,!0),l=document.getElementById("renderCanvas");const h=class{constructor(e,n,s,o,t,i,r,a){this.scene=e,this.engine=n,this.name=s,this.boxBody,this.boxMesh,this.animationGroups=[],this.forward=o,this.jump=t,this.createPlayer(i,r,a),this.enablePlayerControl(o,t)}async createPlayer(e,n,s){var o=BABYLON.MeshBuilder.CreateBox(this.name,{width:2,height:2,depth:2},this.scene);this.boxMesh=o,o.visibility=!1,o.rotationQuaternion=BABYLON.Quaternion.Identity(),o.position=new BABYLON.Vector3(e,n,s);var t=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),BABYLON.Quaternion.Identity(),new BABYLON.Vector3(2,2,2),this.scene),i=new BABYLON.PhysicsBody(o,BABYLON.PhysicsMotionType.DYNAMIC,!1,this.scene);this.boxBody=i,i.shape=t,i.setMassProperties({mass:1});var r=new BABYLON.StandardMaterial("groundMaterial",this.scene);return r.diffuseColor=new BABYLON.Color3(0,0,1),o.material=r,i.setCollisionCallbackEnabled(!0),this.animationGroups=await this.Character(e,n,s,o),o}enablePlayerControl(e,n){new B(l,this.scene,this.engine,this.boxBody,e,n,this.animationGroups)}destroyPlayer(){control=null}async Character(e,n,s,o){let t;const{meshes:i,animationGroups:r}=await BABYLON.SceneLoader.ImportMeshAsync("","./models/character1_anim/","animCharacter.glb",this.scene);return t=i[0],t.name="RUNNER",t.position=new BABYLON.Vector3(e,n-1.05,s),o&&t.setParent(o),this.animationGroups.push(r),console.log("Chargement réussi Personnage",t),await this.animGestionner(l,this.forward,this.jump,r),{animationGroups:r}}async animGestionner(e,n,s,o){this.keys={};let t=!1,i=!1;e.addEventListener("keydown",(e=>{this.keys[e.key]||(this.keys[e.key]=!0,e.key!==n||t||(t=!0),e.key!==s||i||(i=!0))})),e.addEventListener("keyup",(e=>{this.keys[e.key]=!1,e.key===s&&(i=!1),e.key===n&&(t=!1)})),c.runRenderLoop((()=>{t&&(t=!1,console.log("VOILA LE GROUPE :"+o),o[2].play()),i&&(i=!1,o[1].play())}))}};var w=document.getElementById("renderCanvas"),g=new BABYLON.Engine(w,!0),d=new BABYLON.Scene(g);const A=class{constructor(e,n,s,o,t,i,r){this.destroyed=!1,this.action=!1,this.setupKeyboardInputPlayer(e,n,s,o,t,i,r)}setupKeyboardInputPlayer(e,n,s,o,t,i,r){this.keys={},e.addEventListener("keydown",(e=>{this.keys[e.key]||(this.keys[e.key]=!0)})),e.addEventListener("keyup",(e=>{this.keys[e.key]=!1})),n.runRenderLoop((()=>{this.destroyed||(this.keys[o]&&(console.log("Touche gauche enfoncée"),s.applyForce(new BABYLON.Vector3(10,0,0),new BABYLON.Vector3(0,0,0)),s.setAngularVelocity(BABYLON.Vector3.ZeroReadOnly)),this.keys[t]&&(console.log("Touche Droite enfoncée"),s.applyForce(new BABYLON.Vector3(-10,0,0),new BABYLON.Vector3(0,0,0)),s.setAngularVelocity(BABYLON.Vector3.ZeroReadOnly)),this.keys[i]&&!this.action&&(console.log("Touche JUMP enfoncée"),s.applyForce(new BABYLON.Vector3(0,30,0),new BABYLON.Vector3(0,0,0)),s.setAngularVelocity(BABYLON.Vector3.ZeroReadOnly)),this.keys[r]&&!this.action&&(console.log("Touche LAUNCH enfoncée"),this.action=!0,s.applyForce(new BABYLON.Vector3(0,0,2800),new BABYLON.Vector3(0,0,0))))}))}destroy(){this.destroyed=!0,this.canvas=null,this.engine=null,this.character1=null,this.inputLeft=null,this.inputRight=null,this.inputJump=null,this.inputLaunch=null}};var N=document.getElementById("renderCanvas");const L=class{constructor(e,n,s,o,t,i,r,a,B,c){this.control,this.scene=e,this.engine=n,this.name=s,this.boxBody,this.sphereBody,this.box,this.rayHelper,this.shootBall(o,t,i,r,a,B,c),this.enablePlayerControl(o,t,i,r)}testPlayer(e,n,s,o,t,i){var r=BABYLON.MeshBuilder.CreateBox(s,{width:2,height:2,depth:2},e);this.box=r,r.rotationQuaternion=BABYLON.Quaternion.Identity(),r.position=new BABYLON.Vector3(o,t,i);var a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),BABYLON.Quaternion.Identity(),new BABYLON.Vector3(2,2,2),e),B=new BABYLON.PhysicsBody(r,BABYLON.PhysicsMotionType.DYNAMIC,!1,e);B.shape=a,B.setMassProperties({mass:1});var c=new BABYLON.StandardMaterial("groundMaterial",e);c.diffuseColor=new BABYLON.Color3(0,0,1),r.material=c,B.setCollisionCallbackEnabled(!0),this.boxBody=B}enablePlayerControl(e,n,s,o){let t=new A(N,this.engine,this.sphereBody,n,e,s,o);this.control=t}raycast(){var e=this.scene.getMeshByName(this.name);if(e){var n=e.position,s=new BABYLON.Vector3(0,0,1),o=(n.add(s.scale(50)),new BABYLON.Ray(n,s,50)),t=new BABYLON.RayHelper(o);t.show(this.scene,new BABYLON.Color3(.9,0,0)),this.scene.pickWithRay(o),this.rayHelper=t}else console.error("Player mesh not found")}shootBall(e,n,s,o,t,i,r){const a=BABYLON.MeshBuilder.CreateSphere(this.name,{segments:16,diameter:2},this.scene);a.position=new BABYLON.Vector3(t,i,r);var B=new BABYLON.PhysicsShapeSphere(new BABYLON.Vector3(0,0,0),1,this.scene),c=new BABYLON.PhysicsBody(a,BABYLON.PhysicsMotionType.DYNAMIC,!1,this.scene);c.shape=B,c.setMassProperties({mass:2}),this.sphereBody=c}disableThisObject(){this.control.destroy(),this.control=null}instanciate(){}},y=class{constructor(e,n,s,o){this.scene=e,this.x=n,this.y=s,this.z=o,this.mesh,this.Aggregate,this.meshIdPromise=this.createBowlingPin()}createBowlingPin(){return new Promise((e=>{BABYLON.SceneLoader.ImportMesh("","./models/","Bowling Pin.glb",this.scene,(n=>{new BABYLON.PhysicsShapeCapsule(new BABYLON.Vector3(0,0,0),10,this.scene);const s=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(.5,1.2,.5),this.scene);new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(.5,1.2,.5),this.scene),BABYLON.MeshBuilder.CreateBox("Pintrigger");let o=n[0];o.scaling._z=-1*o.scaling._z,o.name="Pin",o.position=new BABYLON.Vector3(this.x,this.y,this.z);var t=new BABYLON.PhysicsAggregate(o,s,{mass:.5},this.scene);t.body.setCollisionCallbackEnabled(!0),this.Aggregate=t,this.mesh=o;const i=o.uniqueId;e(i)}),void 0,void 0,".glb")}))}async getMeshId(){return await this.meshIdPromise}disableThisObject(){this.Aggregate.body.setCollisionCallbackEnabled(!1),this.Aggregate.body.dispose()}isPinUp(){const e=this.mesh.rotationQuaternion.toEulerAngles();return Math.abs(e.x)<.1}};var O=document.getElementById("renderCanvas"),Y=new BABYLON.Engine(O,!0),p=new BABYLON.Scene(Y);let m,u,P=0,b=0;function v(e,n,s,o,t,i){const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(o,t,i),p);var a=BABYLON.MeshBuilder.CreateBox("Respawn",{width:2,height:2,depth:2},p);a.isVisible=!1,a.position.x=e,a.position.y=n,a.position.z=s,new BABYLON.PhysicsAggregate(a,r,{mass:0},p).shape.isTrigger=!0}async function V(e,n,s){Y.runRenderLoop((async()=>{for(let s=0;s<e.length;s++)await e[s].getMeshId(),e[s].isPinUp()||(n++,e.splice(s,1),s--);console.log("compteur "+s+" "+n)}))}function C(e,n,s,o){return[new y(p,.25+n,2+s,21+o),new y(p,0+n,2+s,21.5+o),new y(p,.5+n,2+s,21.5+o),new y(p,0+n,2+s,22+o),new y(p,.25+n,2+s,22+o),new y(p,.6+n,2+s,22+o),new y(p,-.5+n,2+s,22.5+o),new y(p,0+n,2+s,22.5+o),new y(p,.5+n,2+s,22.5+o),new y(p,1+n,2+s,22.5+o),new y(p,-.5+n,2+s,23+o),new y(p,-1+n,2+s,23+o),new y(p,0+n,2+s,23+o),new y(p,.5+n,2+s,23+o),new y(p,1+n,2+s,23+o),new y(p,1.5+n,2+s,23+o),new y(p,-.5+n,2+s,23.5+o),new y(p,-1+n,2+s,23.5+o),new y(p,-1.5+n,2+s,23.5+o),new y(p,0+n,2+s,23.5+o),new y(p,.5+n,2+s,23.5+o),new y(p,1+n,2+s,23.5+o),new y(p,1.5+n,2+s,23.5+o),new y(p,2+n,2+s,23.5+o),new y(p,-.5+n,2+s,24+o),new y(p,-1+n,2+s,24+o),new y(p,-1.5+n,2+s,24+o),new y(p,-2+n,2+s,24+o),new y(p,0+n,2+s,24+o),new y(p,.5+n,2+s,24+o),new y(p,1+n,2+s,24+o),new y(p,1.5+n,2+s,24+o),new y(p,2+n,2+s,24+o),new y(p,2.5+n,2+s,24+o),new y(p,-.5+n,2+s,24.5+o),new y(p,-1+n,2+s,24.5+o),new y(p,-1.5+n,2+s,24.5+o),new y(p,-2+n,2+s,24.5+o),new y(p,-2.5+n,2+s,24.5+o),new y(p,0+n,2+s,24.5+o),new y(p,.5+n,2+s,24.5+o),new y(p,1+n,2+s,24.5+o),new y(p,1.5+n,2+s,24.5+o),new y(p,2+n,2+s,24.5+o),new y(p,2.5+n,2+s,24.5+o),new y(p,3+n,2+s,24.5+o),new y(p,-.5+n,2+s,25+o),new y(p,-1+n,2+s,25+o),new y(p,-1.5+n,2+s,25+o),new y(p,-2+n,2+s,25+o),new y(p,-2.5+n,2+s,25+o),new y(p,-3+n,2+s,25+o),new y(p,0+n,2+s,25+o),new y(p,.5+n,2+s,25+o),new y(p,1+n,2+s,25+o),new y(p,1.5+n,2+s,25+o),new y(p,2+n,2+s,25+o),new y(p,2.5+n,2+s,25+o),new y(p,3+n,2+s,25+o),new y(p,3.5+n,2+s,25+o),new y(p,-.5+n,2+s,25.5+o),new y(p,-1+n,2+s,25.5+o),new y(p,-1.5+n,2+s,25.5+o),new y(p,-2+n,2+s,25.5+o),new y(p,-2.5+n,2+s,25.5+o),new y(p,-3+n,2+s,25.5+o),new y(p,-3.5+n,2+s,25.5+o),new y(p,0+n,2+s,25.5+o),new y(p,.5+n,2+s,25.5+o),new y(p,1+n,2+s,25.5+o),new y(p,1.5+n,2+s,25.5+o),new y(p,2+n,2+s,25.5+o),new y(p,2.5+n,2+s,25.5+o),new y(p,3+n,2+s,25.5+o),new y(p,3.5+n,2+s,25.5+o),new y(p,4+n,2+s,25.5+o),new y(p,-.5+n,2+s,26+o),new y(p,-1+n,2+s,26+o),new y(p,-1.5+n,2+s,26+o),new y(p,-2+n,2+s,26+o),new y(p,-2.5+n,2+s,26+o),new y(p,-3+n,2+s,26+o),new y(p,-3.5+n,2+s,26+o),new y(p,-4+n,2+s,26+o),new y(p,0+n,2+s,26+o),new y(p,.5+n,2+s,26+o),new y(p,1+n,2+s,26+o),new y(p,1.5+n,2+s,26+o),new y(p,2+n,2+s,26+o),new y(p,2.5+n,2+s,26+o),new y(p,3+n,2+s,26+o),new y(p,3.5+n,2+s,26+o),new y(p,4+n,2+s,26+o),new y(p,4.5+n,2+s,26+o)]}var S=document.getElementById("renderCanvas"),M=new BABYLON.Engine(S,!0);function f(){!function(){var e=new BABYLON.FreeCamera("camera",new BABYLON.Vector3(0,5,-10),p);e.inertia=0,e.angularSensibility=0,e.detachControl(O),e.cameraRotation=0,p.activeCameras.push(e),e.viewport=new BABYLON.Viewport(0,0,.5,1),p.activeCameras.push(e);var n=new BABYLON.FreeCamera("camera",new BABYLON.Vector3(27,5,-10),p);n.inertia=0,n.angularSensibility=0,n.detachControl(O),n.cameraRotation=0,p.activeCameras.push(n),n.viewport=new BABYLON.Viewport(.5,0,.5,1),p.activeCameras.push(n),async function(){const e=await HavokPhysics(),n=new BABYLON.HavokPlugin(!0,e);p.enablePhysics(new BABYLON.Vector3(0,-9.81,0),n),p.collisionsEnabled=!0,new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),p);var s=new a(p),o=[],t=[];m=new L(p,Y,"player1","q","d","s"," ",0,8,0),u=new L(p,Y,"player2","j","l","i","Enter",28,8,0),p.getMeshByName("player1"),function(e,n,s){e.onTriggerCollisionObservable.add((e=>{if(console.log(e.type,":",e.collider.transformNode.name,"-",e.collidedAgainst.transformNode.name),"Ending"==e.collidedAgainst.transformNode.name&&(console.log("YOU WINNNNNNN"),n=null),"Respawn"==e.collidedAgainst.transformNode.name&&("player1"==e.collider.transformNode.name||"player2"==e.collider.transformNode.name))if(console.log("YOU RESPAWNWNNN"),"player1"==e.collider.transformNode.name){let e=p.getMeshByName("player1");n.disableThisObject(),e.dispose(),n=new L(p,Y,"player1","q","d","s"," ",-5,5,0)}else{let e=p.getMeshByName("player2");s.disableThisObject(),e.dispose(),s=new L(p,Y,"player2","j","l","i","Enter",28,5,0)}}))}(n,m,u),s.CreatePlateform_Scene4(),o=C(0,0,0,-10),t=C(0,28,0,-10),V(o,P,"player1"),V(t,b,"player2"),p.getMeshByName("ball"),v(0,2,97.43,30,30,10),v(7.5,2,48,1,30,90),v(-7.5,2,48,1,30,90),v(30,2,97.43,30,30,10),v(20,2,48,1,30,90),v(35.5,2,48,1,30,90)}();let s=p.getMeshByName("player1"),o=p.getMeshByName("player2");console.log(o),e.lockedTarget=s,Y.runRenderLoop((function(){p.render()}))}()}new BABYLON.Scene(M),function(){var e=new BABYLON.FollowCamera("camera",new BABYLON.Vector3(0,5,-10),d);e.cameraRotation=0,e.viewport=new BABYLON.Viewport(.5,0,.5,.5);var n=new BABYLON.FollowCamera("camera2",new BABYLON.Vector3(-3,5,-10),d);n.cameraRotation=0,n.viewport=new BABYLON.Viewport(0,0,.5,.5),d.activeCameras.push(n),d.activeCameras.push(e),async function(){const e=await HavokPhysics(),n=new BABYLON.HavokPlugin(!0,e);d.enablePhysics(new BABYLON.Vector3(0,-9.81,0),n),d.collisionsEnabled=!0,new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),d),new h(d,g,"player1","s","f",10,15,0),new h(d,g,"player2","k","m",0,15,0),function(){new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(25,2,2e3),d);var e=BABYLON.MeshBuilder.CreateBox("Ending",{width:20,height:20,depth:20},d);e.isVisible=!1,e.position.x=5,e.position.y=11,e.position.z=-962,new BABYLON.PhysicsAggregate(e,BABYLON.PhysicsShapeType.MESH,{mass:0},d).shape.isTrigger=!0}(),function(e){e.onTriggerCollisionObservable.add((e=>{console.log(e.type,":",e.collider.transformNode.name,"-",e.collidedAgainst.transformNode.name),"Ending"==e.collidedAgainst.transformNode.name&&(console.log("YOU WINNNNNNN"),d.meshes.forEach((function(e){e.dispose()})),d.cameras.forEach((function(e){e.dispose()})),d.lights.forEach((function(e){e.dispose()})),g.stopRenderLoop(),f())}))}(n),d.onPointerDown=function(e,n){!function(e,n){n.hit&&"player"==n.pickedMesh.name&&(n.pickedMesh.material.diffuseColor=new BABYLON.Color3(0,1,0))}(0,n)},new a(d).CreatePlateform(0,0,-472,678)}().then((s=>{let o=d.getMeshByName("player2");console.log("MESH PLAYER2"+o);let t=d.getMeshByName("player1");e.lockedTarget=o,n.lockedTarget=t})).catch((e=>{console.error(e)})),g.runRenderLoop((function(){d.render()}))}()})();
//# sourceMappingURL=babylonBundle.js.map