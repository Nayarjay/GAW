(()=>{"use strict";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};e.d({},{Bb:()=>we,VN:()=>Be,mh:()=>de,fF:()=>he,mw:()=>ue,Yy:()=>ge,w_:()=>me,DM:()=>Le,wT:()=>ce,DB:()=>le});const n=class{constructor(e,n){this.scene=e,this.musicName=n,this.musicSound=null,this.volumeSlider=null,document.addEventListener("DOMContentLoaded",(()=>{this.initVolumeSlider("volumeSlider")}))}initMusic(){const e=()=>{this.musicSound=new BABYLON.Sound("","./models/Music/"+this.musicName,this.scene,null,{loop:!0,autoplay:!0}),this.updateVolume()};window.addEventListener("mousemove",(()=>{"suspended"===BABYLON.Engine.audioEngine.audioContext.state?BABYLON.Engine.audioEngine.audioContext.resume().then((()=>{e()})):e()}),{once:!0})}initVolumeSlider(e){this.volumeSlider=document.getElementById(e),this.volumeSlider.addEventListener("input",(()=>{this.updateVolume()}))}updateVolume(){this.musicSound&&this.volumeSlider&&this.musicSound.setVolume(this.volumeSlider.value/100)}stopMusic(){this.musicSound&&this.musicSound.stop()}destroy(){this.stopMusic(),window.removeEventListener("mousemove",this.clickHandler),this.volumeSlider&&this.volumeSlider.removeEventListener("input",this.updateVolume),this.scene=null,this.musicName=null,this.musicSound=null,this.clickHandler=null,this.volumeSlider=null}},o=class{constructor(e,n,o,t,s,i,r){this.setupKeyboardInputPlayer(e,o,t,s,i,r)}setupKeyboardInputPlayer(e,n,o,t,s,i){this.keys={};let r=!1,a=!1;e.addEventListener("keydown",(e=>{this.keys[e.key]||(this.keys[e.key]=!0,e.key!==t||r||(r=!0),e.key!==s||a||(a=!0,console.log("Touche enfoncée, action effectuée jump")))})),e.addEventListener("keyup",(e=>{this.keys[e.key]=!1,e.key===s&&(a=!1,console.log("Touche relâchée jump")),e.key===t&&(r=!1)})),n.runRenderLoop((()=>{r&&(o.applyForce(new BABYLON.Vector3(0,0,-50),new BABYLON.Vector3(0,0,0)),o.setAngularVelocity(new BABYLON.Vector3(0,0,0)),r=!1),o.setAngularVelocity(new BABYLON.Vector3(0,0,0))}))}};var t=new BABYLON.Engine(s,!0),s=document.getElementById("renderCanvas");const i=class{constructor(e,n,o,t,s,i,r,a){this.scene=e,this.engine=n,this.name=o,this.boxBody,this.boxMesh,this.animationGroups=[],this.forward=t,this.jump=s,this.createPlayer(i,r,a),this.enablePlayerControl(t,s)}async createPlayer(e,n,o){var t=BABYLON.MeshBuilder.CreateBox(this.name,{width:2,height:2,depth:2},this.scene);this.boxMesh=t,t.visibility=!1,t.rotationQuaternion=BABYLON.Quaternion.Identity(),t.position=new BABYLON.Vector3(e,n,o);var s=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),BABYLON.Quaternion.Identity(),new BABYLON.Vector3(2,2,2),this.scene),i=new BABYLON.PhysicsBody(t,BABYLON.PhysicsMotionType.DYNAMIC,!1,this.scene);this.boxBody=i,i.shape=s,i.setMassProperties({mass:1.5});var r=new BABYLON.StandardMaterial("groundMaterial",this.scene);return r.diffuseColor=new BABYLON.Color3(0,0,1),t.material=r,i.setCollisionCallbackEnabled(!0),this.animationGroups=await this.Character(e,n,o,t),t}enablePlayerControl(e,n){new o(s,this.scene,this.engine,this.boxBody,e,n,this.animationGroups)}destroyPlayer(){control=null}async Character(e,n,o,t){let i;const{meshes:r,animationGroups:a}=await BABYLON.SceneLoader.ImportMeshAsync("","./models/character1_anim/","animCharacter.glb",this.scene);return i=r[0],i.name="RUNNER",i.position=new BABYLON.Vector3(e,n-1.05,o),t&&i.setParent(t),this.animationGroups.push(a),console.log("Chargement réussi Personnage",i),await this.animGestionner(s,this.forward,this.jump,a),{animationGroups:a}}async animGestionner(e,n,o,s){this.keys={};let i=!1,r=!1;e.addEventListener("keydown",(e=>{this.keys[e.key]||(this.keys[e.key]=!0,e.key!==n||i||(i=!0),e.key!==o||r||(r=!0))})),e.addEventListener("keyup",(e=>{this.keys[e.key]=!1,e.key===o&&(r=!1),e.key===n&&(i=!1)})),t.runRenderLoop((()=>{i&&(i=!1,console.log("VOILA LE GROUPE :"+s),s[2].play()),r&&(r=!1)}))}};var r=document.getElementById("renderCanvas"),a=new BABYLON.Engine(r,!0);new n(new BABYLON.Scene(a),"level2.mp3");var c=document.getElementById("renderCanvas"),l=new BABYLON.Engine(c,!0),B=new BABYLON.Scene(l);let d=new n(B,"Menu.mp3");var h=function(){l.displayLoadingUI(),B.executeWhenReady((function(){setTimeout((function(){l.hideLoadingUI()}),3e3)})),d.initMusic(),new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),B),new BABYLON.FreeCamera("camera",new BABYLON.Vector3(0,8,-50),B),async function(){var e={height:80,width:100,sideOrientation:BABYLON.Mesh.DOUBLESIDE},n=BABYLON.MeshBuilder.CreatePlane("plane",e,B);n.position=new BABYLON.Vector3(0,0,0);var o=new BABYLON.StandardMaterial("m",B),t=new BABYLON.VideoTexture("vidtex","./models/video/scrawl text.mp4",B,!0,!1,{loop:!1,autoPlay:!1,autoUpdateTexture:!0,poster:null,muted:!0});o.diffuseTexture=t,o.roughness=1,o.emissiveColor=new BABYLON.Color3.White,n.material=o,t.video.play(),document.getElementById("renderCanvas").addEventListener("click",(function(){t.video.muted=!0,t.video.play()}))}(),setTimeout((function(){d.destroy(),B.meshes.forEach((function(e){e.dispose()})),B.cameras.forEach((function(e){e.dispose()})),B.lights.forEach((function(e){e.dispose()})),d.stopMusic(),d.destroy(),l.stopRenderLoop(),de()}),21e3)};class u{constructor(e){this.scene=e}async CreateTree(e,n,o){let t,s;return BABYLON.SceneLoader.ImportMesh("","./models/","Tree.glb",this.scene,(i=>{console.log("Chargement réussi arbre",i),t=i[0],s=i[1],s.name="tronc",t.position=new BABYLON.Vector3(e,n,o),new BABYLON.PhysicsAggregate(s,BABYLON.PhysicsShapeType.BOX,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(s,BABYLON.PhysicsShapeType.BOX,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async CreatePineTree(e,n,o){let t,s;return BABYLON.SceneLoader.ImportMesh("","./models/","Pine Tree with Snow.glb",this.scene,(i=>{console.log("Chargement réussi arbre",i),i[0].scaling.x=3,i[0].scaling.y=2,i[0].scaling.z=4,t=i[0],s=i[1],s.name="tronc",console.log(s.name),t.position=new BABYLON.Vector3(e,n,o);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,1,3),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(3,3,5),this.scene),a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,1,3),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(3,3,5),this.scene);new BABYLON.PhysicsAggregate(s,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(s,a,{mass:0},this.scene)}),void 0,void 0,".glb")}CreateSnowManOnSki(e,n,o,t){let s;return BABYLON.SceneLoader.ImportMesh("","./models/","snowman_on_skis.glb",this.scene,(i=>{console.log("Chargement réussi SnowMan",i),s=i[0],s.name="SnowMan",s.position=new BABYLON.Vector3(e,n,o),s.setParent(t)}),void 0,void 0,".glb"),{mesh:s}}async CreateSceneProd(e,n,o){}async CreatePlayer(e,n,o){}async Zone(e,n,o){}async plane(e,n,o,t,s,i){var r=BABYLON.MeshBuilder.CreateGround("ground",{width:t,height:s,subdivisions:1},i);r.position.addInPlace(new BABYLON.Vector3(e,n,o)),r.rotation=new BABYLON.Vector3(-.1,0,0),new BABYLON.PhysicsAggregate(r,BABYLON.PhysicsShapeType.BOX,{mass:0},i);var a=new BABYLON.StandardMaterial("groundMaterial",i);return a.diffuseColor=new BABYLON.Color3(.92,.29,.28),r.material=a,r}async flatplane(e,n,o,t,s,i){var r=BABYLON.MeshBuilder.CreateGround("ground",{width:t,height:s,subdivisions:1},i);r.position.addInPlace(new BABYLON.Vector3(e,n,o)),r.rotation=new BABYLON.Vector3(0,0,0),new BABYLON.PhysicsAggregate(r,BABYLON.PhysicsShapeType.BOX,{mass:0},i);var a=new BABYLON.StandardMaterial("groundMaterial",i);return a.diffuseColor=new BABYLON.Color3(.92,.29,.28),r.material=a,r}async createDeadTree(e,n,o){let t;return BABYLON.SceneLoader.ImportMesh("","./models/","Dead Trees With Snow.glb",this.scene,(s=>{console.log("Chargement réussi arbre",s),s[0].scaling.x=30,s[0].scaling.y=20,s[0].scaling.z=20;let i=s[0];t=s[1],t.name="tronc",console.log(t.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,1,3),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(30,30,30),this.scene);i.position=new BABYLON.Vector3(e,n,o),new BABYLON.PhysicsAggregate(t,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(t,BABYLON.PhysicsShapeType.BOX,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async createSnowTree(e,n,o){let t;return BABYLON.SceneLoader.ImportMesh("","./models/","Snow Tree.glb",this.scene,(s=>{console.log("Chargement réussi arbre",s),s[0].scaling.x=10,s[0].scaling.y=10,s[0].scaling.z=10;let i=s[0];t=s[1],t.name="tronc",console.log(t.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene),a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene);i.position=new BABYLON.Vector3(e,n,o),new BABYLON.PhysicsAggregate(t,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(t,a,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async createLitleSnowTree(e,n,o){let t;return BABYLON.SceneLoader.ImportMesh("","./models/","Pine Tree with Snow two.glb",this.scene,(s=>{console.log("Chargement réussi arbre",s),s[0].scaling.x=10,s[0].scaling.y=10,s[0].scaling.z=10;let i=s[0];t=s[1],t.name="tronc",console.log(t.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene),a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene);i.position=new BABYLON.Vector3(e,n,o),new BABYLON.PhysicsAggregate(t,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(t,a,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async createSnowMan(e,n,o){let t;return BABYLON.SceneLoader.ImportMesh("","./models/","SnowManRotated.glb",this.scene,(s=>{console.log("Chargement réussi arbre",s),s[0].scaling.x=1,s[0].scaling.y=1,s[0].scaling.z=1;let i=s[0];t=s[1],t.name="tronc",console.log("SNOWMAN "+i.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,4,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene),a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,4,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene);i.position=new BABYLON.Vector3(e,n,o),new BABYLON.PhysicsAggregate(t,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(t,a,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateRampe1(e,n,o){let t=BABYLON.SceneLoader.ImportMesh("","./models/","rampe_2.glb",this.scene,(t=>{console.log("Chargement réussi",t),t[0].scaling.x=5,t[0].scaling.y=5,t[0].scaling.z=5;let s=t[0];console.log(t[1].name),s.name="Rampe";let i=t[1];s.position=new BABYLON.Vector3(e,n,o),new BABYLON.PhysicsAggregate(i,BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene)}),void 0,void 0,".glb");return t.position=new BABYLON.Vector3(e,n,o),{bigMesh:t}}createSnowMount(e,n,o){let t=BABYLON.SceneLoader.ImportMesh("","./models/","Rock Forms 3 (White).glb",this.scene,(t=>{console.log("Chargement réussi",t),t[0].scaling.x=150,t[0].scaling.y=150,t[0].scaling.z=150;const s=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,4,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(10,10,20),this.scene);let i=t[0];i.name="tronc",console.log(t[1].name);let r=t[1];r.name="tronc",i.position=new BABYLON.Vector3(e,n,o),new BABYLON.PhysicsAggregate(i,s,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(r,BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene)}),void 0,void 0,".glb");return t.position=new BABYLON.Vector3(e,n,o),{bigMesh:t}}createFinalScene2(e,n,o){let t=BABYLON.SceneLoader.ImportMesh("","./models/","finalscene2.glb",this.scene,(t=>{console.log("Chargement réussi",t),new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(10,10,20),this.scene);let s=t[0];s.name="tronc",console.log(t[2].name),this.scene.getMeshByName("Cube (sol)"),s.position=new BABYLON.Vector3(e,n,o);let i=1;for(;i<t.length;)new BABYLON.PhysicsAggregate(t[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb");return t.position=new BABYLON.Vector3(e,n,o),{bigMesh:t}}CreatePlateform(e,n,o){return BABYLON.SceneLoader.ImportMesh("","./models/","plateforme_scene3.glb",this.scene,(t=>{console.log("Chargement réussi plateform",t);let s=t[0];s.name="colision",s.position=new BABYLON.Vector3(e,n,o);let i=1;for(;i<t.length;)new BABYLON.PhysicsAggregate(t[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreatePlateformlevel2(e,n,o){return BABYLON.SceneLoader.ImportMesh("","./models/","scene3.glb",this.scene,(t=>{console.log("Chargement réussi plateform level2",t);let s=t[0];s.name="colision",s.position=new BABYLON.Vector3(e,n,o);let i=1;for(;i<t.length;)new BABYLON.PhysicsAggregate(t[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreatePlateform_Scene4(e,n,o){return BABYLON.SceneLoader.ImportMesh("","./models/","scene4_gameplay_ELEMENT.glb",this.scene,(t=>{console.log("Chargement réussi plateform",t);let s=t[0];s.name="colision",s.position=new BABYLON.Vector3(e,n,o);let i=1;for(;i<t.length;)new BABYLON.PhysicsAggregate(t[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateBowlingPlatform(e,n,o){return BABYLON.SceneLoader.ImportMesh("","./models/","scene_de_bowling.glb",this.scene,(t=>{console.log("Chargement réussi plateform",t);let s=t[0];s.name="colision",s.position=new BABYLON.Vector3(e,n,o);let i=1;for(;i<t.length;)new BABYLON.PhysicsAggregate(t[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateBowlingBall(e,n,o){return BABYLON.SceneLoader.ImportMesh("","./models/","Spiky Ball.glb",this.scene,(t=>{console.log("Chargement réussi ball",t);let s=t[0];s.name="ball",s.position=new BABYLON.Vector3(e,n,o),new BABYLON.PhysicsAggregate(s,BABYLON.PhysicsShapeType.SPHERE,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateColiseum(e,n,o){return BABYLON.SceneLoader.ImportMesh("","./models/","coliseum.glb",this.scene,(t=>{console.log("Chargement réussi coliseum",t);let s=t[0];s.name="coliseum",s.position=new BABYLON.Vector3(e,n,o)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateColiseum(e,n,o){return BABYLON.SceneLoader.ImportMesh("","./models/","coliseum.glb",this.scene,(t=>{console.log("Chargement réussi coliseum",t);let s=t[0];s.name="coliseum",s.position=new BABYLON.Vector3(e,n,o)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateMenu3dScene(e,n,o){return BABYLON.SceneLoader.ImportMesh("","./models/","fmenu.glb",this.scene,(t=>{console.log("Chargement réussi du menu",t);let s=t[0];s.name="fondMenu",s.position=new BABYLON.Vector3(e,n,o)}),void 0,void 0,".glb"),{boundingBox:void 0}}async Createlevel1(e,n,o){return BABYLON.SceneLoader.ImportMesh("","./models/","level2Map.glb",this.scene,(t=>{console.log("Chargement réussi plateform",t);let s=t[0];s.name="colision",s.position=new BABYLON.Vector3(e,n,o);let i=1;for(;i<t.length;)new BABYLON.PhysicsAggregate(t[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreatePlateformlevel3(e,n,o,t){return BABYLON.SceneLoader.ImportMesh("","./models/","swimingPool.glb",this.scene,(t=>{console.log("Chargement réussi plateform level2",t);let s=t[0];s.name="colision",s.position=new BABYLON.Vector3(e,n,o);let i=1;for(;i<t.length;)new BABYLON.PhysicsAggregate(t[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.cene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}}var g=document.getElementById("renderCanvas"),w=new BABYLON.Engine(g,!0),m=new BABYLON.Scene(w);let L=new n(m,"End.mp3");var y=function(){return w.displayLoadingUI(),m.executeWhenReady((function(){setTimeout((function(){w.hideLoadingUI()}),5e3)})),new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),m),new BABYLON.FreeCamera("camera",new BABYLON.Vector3(0,4,-12.5),m).attachControl(),new u(m).CreateMenu3dScene(-44.927,-1.197,61.948),ce>le?(p(-4,0,-1),A(2,0,0),N(-3.5,0,-1.5)):(p(2,0,-1),A(-4,0,0),N(2.5,0,-1.5)),BABYLON.SceneLoader.ImportMesh("","./models/","recommencer.glb",m,(e=>{console.log("Chargement réussi end scene",e);let n=e[0];n.name="EndScene",n.position=new BABYLON.Vector3(undefined,undefined,undefined)}),void 0,void 0,".glb"),L.initMusic(),function(){const e=BABYLON.MeshBuilder.CreateBox("skyBox",{size:1e3},m),n=new BABYLON.StandardMaterial("skyBox",m);n.backFaceCulling=!1,n.disableLighting=!0,e.material=n,e.infiniteDistance=!0,n.reflectionTexture=new BABYLON.CubeTexture("./models/skybox/skybox1/skybox",m),n.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE}(),m};function A(e,n,o){BABYLON.SceneLoader.ImportMesh("","./models/","Loose.glb",m,(t=>{console.log("Chargement réussi coliseum",t);let s=t[0];s.name="playerLoose",s.position=new BABYLON.Vector3(e,n,o)}),void 0,void 0,".glb")}function p(e,n,o){BABYLON.SceneLoader.ImportMesh("","./models/","victory.glb",m,(t=>{console.log("Chargement réussi coliseum",t);let s=t[0];s.name="playerWin",s.position=new BABYLON.Vector3(e,n,o)}),void 0,void 0,".glb")}function N(e,n,o){BABYLON.SceneLoader.ImportMesh("","./models/","Trophy.glb",m,(t=>{console.log("Chargement réussi coliseum",t);let s=t[0];s.name="playerWin",s.position=new BABYLON.Vector3(e,n,o)}),void 0,void 0,".glb")}const O=class{constructor(e,n,o,t,s,i,r,a,c,l,B){this.setupKeyboardInput(e,n,o,t,s,i,r,a,c,l,B)}setupKeyboardInput(e,n,o,t,s,i,r,a,c,l,B){this.keys={},e.addEventListener("keydown",(e=>{this.keys[e.key]=!0})),e.addEventListener("keyup",(e=>{this.keys[e.key]=!1})),n.runRenderLoop((()=>{if(this.keys[t]||this.keys[a]){let e=o.transformNode.forward.scale(-5);o.applyForce(e,o.transformNode.position),o.setAngularVelocity(BABYLON.Vector3.ZeroReadOnly)}(this.keys[s]||this.keys[c])&&(o.applyForce(new BABYLON.Vector3(0,0,5),new BABYLON.Vector3(0,0,0)),o.setAngularVelocity(BABYLON.Vector3.ZeroReadOnly)),(this.keys[i]||this.keys[l])&&(o.applyForce(new BABYLON.Vector3(5,0,0),new BABYLON.Vector3(0,0,0)),o.setAngularVelocity(new BABYLON.Vector3(0,-.5,0))),(this.keys[r]||this.keys[B])&&(o.applyForce(new BABYLON.Vector3(-5,0,0),new BABYLON.Vector3(0,0,0)),o.setAngularVelocity(new BABYLON.Vector3(0,.5,0)))}))}};var Y=document.getElementById("renderCanvas");class f{constructor(e,n,o,t,s,i,r,a,c,l,B,d,h,u){this.scene=e,this.engine=n,this.boxBody,this.testPlayer(e,n,o,a,c,l),this.enablePlayerControl(t,s,i,r,B,d,h,u)}testPlayer(e,n,o,t,s,i){var r=BABYLON.MeshBuilder.CreateBox(o,{width:2,height:2,depth:2},e);r.isVisible=!1,new u(e).CreateSnowManOnSki(t,s-.5,i,r),r.rotationQuaternion=BABYLON.Quaternion.Identity(),r.position=new BABYLON.Vector3(t,s,i);var a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),BABYLON.Quaternion.Identity(),new BABYLON.Vector3(2,2,2),e),c=new BABYLON.PhysicsBody(r,BABYLON.PhysicsMotionType.DYNAMIC,!1,e);c.shape=a,c.setMassProperties({mass:1});var l=new BABYLON.StandardMaterial("groundMaterial",e);return l.diffuseColor=new BABYLON.Color3(0,0,1),r.material=l,c.setCollisionCallbackEnabled(!0),this.boxBody=c,r}enablePlayerControl(e,n,o,t,s,i,r,a){new O(Y,this.engine,this.boxBody,e,n,o,t,s,i,r,a)}destroyPlayer(){control=null}}let v=new n(S,"level1.mp3");BABYLON.SceneLoader.ShowLoadingScreen=!0;var b=document.getElementById("renderCanvas"),C=new BABYLON.Engine(b,!0),S=new BABYLON.Scene(C);function P(e){S.meshes.forEach((function(e){e.dispose()})),S.cameras.forEach((function(e){e.dispose()})),S.lights.forEach((function(e){e.dispose()})),C.stopRenderLoop(),document.getElementById("level1").style.display="none",v.stopMusic()}function M(){S.getMeshByName("player1"),S.getMeshByName("player2")}var E=document.getElementById("renderCanvas"),V=new BABYLON.Engine(E,!0),x=new BABYLON.Scene(V);let k=new n(x,"level2.mp3");const I=class{constructor(e,n,o,t,s,i,r,a,c){this.destroyed=!1,this.action=!1,this.setupKeyboardInputPlayer(e,n,o,t,s,i,r,a,c)}setupKeyboardInputPlayer(e,n,o,t,s,i,r,a,c){this.keys={},e.addEventListener("keydown",(e=>{this.keys[e.key]||(this.keys[e.key]=!0)})),e.addEventListener("keyup",(e=>{this.keys[e.key]=!1})),n.runRenderLoop((()=>{this.destroyed||((this.keys[t]||this.keys[a])&&(o.applyForce(new BABYLON.Vector3(10,0,0),new BABYLON.Vector3(0,0,0)),o.setAngularVelocity(BABYLON.Vector3.ZeroReadOnly)),(this.keys[s]||this.keys[c])&&(o.applyForce(new BABYLON.Vector3(-10,0,0),new BABYLON.Vector3(0,0,0)),o.setAngularVelocity(BABYLON.Vector3.ZeroReadOnly)),this.keys[r]&&!this.action&&(this.action=!0,o.applyForce(new BABYLON.Vector3(0,0,2800),new BABYLON.Vector3(0,0,0))))}))}destroy(){this.destroyed=!0,this.canvas=null,this.engine=null,this.character1=null,this.inputLeft=null,this.inputRight=null,this.inputJump=null,this.inputLaunch=null}isUpperCase(e,n){return n===e.toUpperCase()}getLastKeyPressed(){return this.lastKeyPressed}};var T=document.getElementById("renderCanvas");const R=class{constructor(e,n,o,t,s,i,r,a,c,l,B,d){this.control,this.scene=e,this.engine=n,this.name=o,this.boxBody,this.sphereBody,this.box,this.rayHelper,this.shootBall(t,s,i,r,a,c,l),this.enablePlayerControl(t,s,i,r,B,d)}testPlayer(e,n,o,t,s,i){var r=BABYLON.MeshBuilder.CreateBox(o,{width:2,height:2,depth:2},e);this.box=r,r.rotationQuaternion=BABYLON.Quaternion.Identity(),r.position=new BABYLON.Vector3(t,s,i);var a=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),BABYLON.Quaternion.Identity(),new BABYLON.Vector3(2,2,2),e),c=new BABYLON.PhysicsBody(r,BABYLON.PhysicsMotionType.DYNAMIC,!1,e);c.shape=a,c.setMassProperties({mass:1});var l=new BABYLON.StandardMaterial("groundMaterial",e);l.diffuseColor=new BABYLON.Color3(0,0,1),r.material=l,c.setCollisionCallbackEnabled(!0),this.boxBody=c}enablePlayerControl(e,n,o,t,s,i){let r=new I(T,this.engine,this.sphereBody,n,e,o,t,s,i);this.control=r}shootBall(e,n,o,t,s,i,r){const a=BABYLON.MeshBuilder.CreateSphere(this.name,{segments:16,diameter:2},this.scene);a.position=new BABYLON.Vector3(s,i,r);var c=new BABYLON.PhysicsShapeSphere(new BABYLON.Vector3(0,0,0),1,this.scene),l=new BABYLON.PhysicsBody(a,BABYLON.PhysicsMotionType.DYNAMIC,!1,this.scene);l.shape=c,l.setMassProperties({mass:2}),this.sphereBody=l}disableThisObject(){this.control.destroy(),this.control=null}},U=class{constructor(e,n,o,t){this.scene=e,this.x=n,this.y=o,this.z=t,this.mesh,this.Aggregate,this.meshIdPromise=this.createBowlingPin()}createBowlingPin(){return new Promise((e=>{BABYLON.SceneLoader.ImportMesh("","./models/","Bowling Pin.glb",this.scene,(n=>{const o=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(.5,1.2,.5),this.scene);BABYLON.MeshBuilder.CreateBox("Pintrigger");let t=n[0];t.scaling._z=-1*t.scaling._z,t.name="Pin",t.position=new BABYLON.Vector3(this.x,this.y,this.z);var s=new BABYLON.PhysicsAggregate(t,o,{mass:.1},this.scene);s.body.setCollisionCallbackEnabled(!0),this.Aggregate=s,this.mesh=t;const i=t.uniqueId;e(i)}),void 0,void 0,".glb")}))}async getMeshId(){return await this.meshIdPromise}disableThisObject(){this.Aggregate.body.setCollisionCallbackEnabled(!1),this.Aggregate.body.dispose()}isPinUp(){const e=this.mesh.rotationQuaternion.toEulerAngles();return Math.abs(e.x)<.1}};var _=document.getElementById("renderCanvas"),F=new BABYLON.Engine(_,!0),H=new BABYLON.Scene(F);let D,W,Q=new n(H,"level3.mp3"),G=0,z=0;function j(e,n,o,t){return[new U(H,.25+n,2+o,21+t),new U(H,0+n,2+o,21.5+t),new U(H,.5+n,2+o,21.5+t),new U(H,0+n,2+o,22+t),new U(H,.25+n,2+o,22+t),new U(H,.6+n,2+o,22+t),new U(H,-.5+n,2+o,22.5+t),new U(H,0+n,2+o,22.5+t),new U(H,.5+n,2+o,22.5+t),new U(H,1+n,2+o,22.5+t),new U(H,-.5+n,2+o,23+t),new U(H,-1+n,2+o,23+t),new U(H,0+n,2+o,23+t),new U(H,.5+n,2+o,23+t),new U(H,1+n,2+o,23+t),new U(H,1.5+n,2+o,23+t),new U(H,-.5+n,2+o,23.5+t),new U(H,-1+n,2+o,23.5+t),new U(H,-1.5+n,2+o,23.5+t),new U(H,0+n,2+o,23.5+t),new U(H,.5+n,2+o,23.5+t),new U(H,1+n,2+o,23.5+t),new U(H,1.5+n,2+o,23.5+t),new U(H,2+n,2+o,23.5+t),new U(H,-.5+n,2+o,24+t),new U(H,-1+n,2+o,24+t),new U(H,-1.5+n,2+o,24+t),new U(H,-2+n,2+o,24+t),new U(H,0+n,2+o,24+t),new U(H,.5+n,2+o,24+t),new U(H,1+n,2+o,24+t),new U(H,1.5+n,2+o,24+t),new U(H,2+n,2+o,24+t),new U(H,2.5+n,2+o,24+t),new U(H,-.5+n,2+o,24.5+t),new U(H,-1+n,2+o,24.5+t),new U(H,-1.5+n,2+o,24.5+t),new U(H,-2+n,2+o,24.5+t),new U(H,-2.5+n,2+o,24.5+t),new U(H,0+n,2+o,24.5+t),new U(H,.5+n,2+o,24.5+t),new U(H,1+n,2+o,24.5+t),new U(H,1.5+n,2+o,24.5+t),new U(H,2+n,2+o,24.5+t),new U(H,2.5+n,2+o,24.5+t),new U(H,3+n,2+o,24.5+t),new U(H,-.5+n,2+o,25+t),new U(H,-1+n,2+o,25+t),new U(H,-1.5+n,2+o,25+t),new U(H,-2+n,2+o,25+t),new U(H,-2.5+n,2+o,25+t),new U(H,-3+n,2+o,25+t),new U(H,0+n,2+o,25+t),new U(H,.5+n,2+o,25+t),new U(H,1+n,2+o,25+t),new U(H,1.5+n,2+o,25+t),new U(H,2+n,2+o,25+t),new U(H,2.5+n,2+o,25+t),new U(H,3+n,2+o,25+t),new U(H,3.5+n,2+o,25+t),new U(H,-.5+n,2+o,25.5+t),new U(H,-1+n,2+o,25.5+t),new U(H,-1.5+n,2+o,25.5+t),new U(H,-2+n,2+o,25.5+t),new U(H,-2.5+n,2+o,25.5+t),new U(H,-3+n,2+o,25.5+t),new U(H,-3.5+n,2+o,25.5+t),new U(H,0+n,2+o,25.5+t),new U(H,.5+n,2+o,25.5+t),new U(H,1+n,2+o,25.5+t),new U(H,1.5+n,2+o,25.5+t),new U(H,2+n,2+o,25.5+t),new U(H,2.5+n,2+o,25.5+t),new U(H,3+n,2+o,25.5+t),new U(H,3.5+n,2+o,25.5+t),new U(H,4+n,2+o,25.5+t),new U(H,-.5+n,2+o,26+t),new U(H,-1+n,2+o,26+t),new U(H,-1.5+n,2+o,26+t),new U(H,-2+n,2+o,26+t),new U(H,-2.5+n,2+o,26+t),new U(H,-3+n,2+o,26+t),new U(H,-3.5+n,2+o,26+t),new U(H,-4+n,2+o,26+t),new U(H,0+n,2+o,26+t),new U(H,.5+n,2+o,26+t),new U(H,1+n,2+o,26+t),new U(H,1.5+n,2+o,26+t),new U(H,2+n,2+o,26+t),new U(H,2.5+n,2+o,26+t),new U(H,3+n,2+o,26+t),new U(H,3.5+n,2+o,26+t),new U(H,4+n,2+o,26+t),new U(H,4.5+n,2+o,26+t)]}function K(){Be()}function X(){H.meshes.forEach((function(e){e.dispose()})),H.cameras.forEach((function(e){e.dispose()})),H.lights.forEach((function(e){e.dispose()})),F.stopRenderLoop(),document.getElementById("level3").style.display="none",Q.stopMusic(),Q.destroy()}var Z=document.getElementById("renderCanvas"),q=new BABYLON.Engine(Z,!0),J=new BABYLON.Scene(q);let $=new n(J,"Portal_2_End_Credits.mp3");var ee=function(){q.displayLoadingUI(),J.executeWhenReady((function(){setTimeout((function(){q.hideLoadingUI()}),3e3)})),$.initMusic(),new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),J),new BABYLON.FreeCamera("camera",new BABYLON.Vector3(0,8,-50),J),async function(){var e={height:80,width:100,sideOrientation:BABYLON.Mesh.DOUBLESIDE},n=BABYLON.MeshBuilder.CreatePlane("plane",e,J);n.position=new BABYLON.Vector3(0,0,0);var o=new BABYLON.StandardMaterial("m",J),t=new BABYLON.VideoTexture("vidtex","./models/video/Ending crédits.mp4",J,!0,!1,{loop:!1,autoPlay:!1,autoUpdateTexture:!0,poster:null,muted:!0});o.diffuseTexture=t,o.roughness=1,o.emissiveColor=new BABYLON.Color3.White,n.material=o,t.video.play(),document.getElementById("renderCanvas").addEventListener("click",(function(){t.video.muted=!0,t.video.play()}))}(),setTimeout((function(){$.destroy(),J.meshes.forEach((function(e){e.dispose()})),J.cameras.forEach((function(e){e.dispose()})),J.lights.forEach((function(e){e.dispose()})),$.stopMusic(),$.destroy(),q.stopRenderLoop(),location.reload()}),6e4)};let ne,oe;var te=document.getElementById("renderCanvas"),se=new BABYLON.Engine(te,!0),ie=new BABYLON.Scene(se);let re=new n(ie,"Menu.mp3");function ae(e){ie.meshes.forEach((function(e){e.dispose()})),ie.cameras.forEach((function(e){e.dispose()})),ie.lights.forEach((function(e){e.dispose()})),oe.dispose(),ne.dispose(),se.stopRenderLoop(),re.stopMusic(),re.destroy()}let ce=0,le=0;function Be(){y(),w.runRenderLoop((function(){m.render()}))}function de(){P(),async function(){var e=new BABYLON.FollowCamera("camera",new BABYLON.Vector3(0,5,-10),S);e.cameraRotation=0,e.viewport=new BABYLON.Viewport(0,0,.5,1);var n=new BABYLON.FollowCamera("camera2",new BABYLON.Vector3(0,5,-10),S);n.cameraRotation=0,n.viewport=new BABYLON.Viewport(.5,0,.5,1),S.activeCameras.push(e),S.activeCameras.push(n),async function(){new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),S);const e=await HavokPhysics(),n=new BABYLON.HavokPlugin(!0,e);C.displayLoadingUI(),S.executeWhenReady((function(){setTimeout((function(){C.hideLoadingUI()}),5e3)})),S.enablePhysics(new BABYLON.Vector3(0,-9.81,0),n),S.collisionsEnabled=!0,new u(S),v.initMusic(),function(e,n,o){const t=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(40,40,40),S);S.getMeshByName("RainBow");var s=BABYLON.MeshBuilder.CreateBox("Ending",{width:2,height:2,depth:2},S);s.isVisible=!1,s.position.x=-1.79,s.position.y=-1.02,s.position.z=-832.37,new BABYLON.PhysicsAggregate(s,t,{mass:0},S).shape.isTrigger=!0}(),document.getElementById("level1").style.display="block";var o=new u(S);await o.Createlevel1(0,0,-800),new f(S,C,"player1","z","s","q","d",5,170,0,"w","s","a","d"),new f(S,C,"player2","ArrowUp","ArrowDown","ArrowLeft","ArrowRight",0,170,0);let t=S.getMeshByName("player1");return function(e,n){e.onTriggerCollisionObservable.add((e=>{console.log(e.type,":",e.collider.transformNode.name,"-",e.collidedAgainst.transformNode.name),"player1"==e.collider.transformNode.name&&"Ending"==e.collidedAgainst.transformNode.name&&(console.log("PLAYER 111111 PASSSSSS"),me(),console.log("COUNT_WIN PLAYER1:"+ce)),"player2"==e.collider.transformNode.name&&"Ending"==e.collidedAgainst.transformNode.name&&(console.log("PLAYER 2 PASSSSSS"),Le(),console.log("COUNT_WIN PLAYER2"+le)),"tronc"==e.collidedAgainst.transformNode.name&&(console.log("End OF the Game"),M()),"Ending"==e.collidedAgainst.transformNode.name&&(console.log("COUNT_WIN PLAYER1:"+ce+"  COUNT_WIN PLAYER2"+le),P(),v.destroy(),he()),"Die"==e.collidedAgainst.transformNode.name&&(console.log("YOU DIEEEEEEEEEE"),M())}))}(n),function(){const e=BABYLON.MeshBuilder.CreateBox("skyBox",{size:1e3},S),n=new BABYLON.StandardMaterial("skyBox",S);n.backFaceCulling=!1,n.disableLighting=!0,e.material=n,e.infiniteDistance=!0,n.reflectionTexture=new BABYLON.CubeTexture("./models/skybox/skybox1/skybox",S),n.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE}(),t}().then((o=>{let t=S.getMeshByName("player2");console.log(o),e.lockedTarget=o,n.lockedTarget=t,S.executeWhenReady((()=>{C.runRenderLoop((function(){S.render()}))}))})).catch((e=>{console.error(e)})),S.executeWhenReady((()=>{BABYLON.SceneLoader.ShowLoadingScreen=!0}))}()}function he(){!function(){var e=new BABYLON.FollowCamera("camera",new BABYLON.Vector3(0,5,-10),x);e.cameraRotation=0,e.viewport=new BABYLON.Viewport(.5,0,.5,1);var n=new BABYLON.FollowCamera("camera2",new BABYLON.Vector3(-3,5,-10),x);n.cameraRotation=0,n.viewport=new BABYLON.Viewport(0,0,.5,1),x.activeCameras.push(n),x.activeCameras.push(e),async function(){V.displayLoadingUI(),x.executeWhenReady((function(){setTimeout((function(){V.hideLoadingUI()}),5e3)}));const e=await HavokPhysics();k.initMusic();const n=new BABYLON.HavokPlugin(!0,e);x.enablePhysics(new BABYLON.Vector3(0,-9.81,0),n),x.collisionsEnabled=!0,new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),x),function(e,n,o){new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(60,2,2e3),x);var t=BABYLON.MeshBuilder.CreateBox("Ending",{width:40,height:40,depth:40},x);t.isVisible=!1,t.position.x=5,t.position.y=11,t.position.z=-620,new BABYLON.PhysicsAggregate(t,BABYLON.PhysicsShapeType.MESH,{mass:0},x).shape.isTrigger=!0}(),function(e){e.onTriggerCollisionObservable.add((e=>{console.log(e.type,":",e.collider.transformNode.name,"-",e.collidedAgainst.transformNode.name),"player1"==e.collider.transformNode.name&&"Ending"==e.collidedAgainst.transformNode.name&&(console.log("PLAYER 111111 PASSSSSS"),me(),console.log("COUNT_WIN PLAYER1:"+ce)),"player2"==e.collider.transformNode.name&&"Ending"==e.collidedAgainst.transformNode.name&&(console.log("PLAYER 2 PASSSSSS"),Le(),console.log("COUNT_WIN PLAYER2"+le)),"Ending"==e.collidedAgainst.transformNode.name&&(x.meshes.forEach((function(e){e.dispose()})),x.cameras.forEach((function(e){e.dispose()})),x.lights.forEach((function(e){e.dispose()})),V.stopRenderLoop(),document.getElementById("level2").style.display="none",k.stopMusic(),k.destroy(),ue())}))}(n),x.onPointerDown=function(e,n){!function(e,n){n.hit&&"player"==n.pickedMesh.name&&(n.pickedMesh.material.diffuseColor=new BABYLON.Color3(0,1,0))}(0,n)},new u(x).CreatePlateformlevel2(-7,14,-265),document.getElementById("level2").style.display="block",new i(x,V,"player1","s","f",0,20,0),new i(x,V,"player2","k","m",-14,20,0),function(){const e=BABYLON.MeshBuilder.CreateBox("skyBox",{size:1e3},x),n=new BABYLON.StandardMaterial("skyBox",x);n.backFaceCulling=!1,n.disableLighting=!0,e.material=n,e.infiniteDistance=!0,n.reflectionTexture=new BABYLON.CubeTexture("./models/skybox/skybox3/skybox",x),n.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE}()}().then((o=>{let t=x.getMeshByName("player2");console.log("MESH PLAYER2"+t);let s=x.getMeshByName("player1");e.lockedTarget=t,n.lockedTarget=s})).catch((e=>{console.error(e)})),V.runRenderLoop((function(){x.render()}))}()}function ue(){!function(){var e=new BABYLON.FreeCamera("camera",new BABYLON.Vector3(0,5,-22),H);e.inertia=0,e.angularSensibility=0,e.detachControl(_),e.cameraRotation=0,H.activeCameras.push(e),e.viewport=new BABYLON.Viewport(0,0,.5,1),H.activeCameras.push(e);var n=new BABYLON.FreeCamera("camera",new BABYLON.Vector3(25,4,-23),H);n.inertia=0,n.angularSensibility=0,n.detachControl(_),n.cameraRotation=0,H.activeCameras.push(n),n.viewport=new BABYLON.Viewport(.5,0,.5,1),H.activeCameras.push(n),async function(){F.displayLoadingUI(),H.executeWhenReady((function(){setTimeout((function(){F.hideLoadingUI()}),5e3)}));const e=await HavokPhysics();Q.initMusic();const n=new BABYLON.HavokPlugin(!0,e);H.enablePhysics(new BABYLON.Vector3(0,-9.81,0),n),H.collisionsEnabled=!0,new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),H);var o=new u(H),t=[],s=[];D=new R(H,F,"player1","q","d","s"," ",0,8,-8,"d","a"),W=new R(H,F,"player2","ArrowLeft","ArrowRight","i","Enter",25,8,-8),H.getMeshByName("player1"),document.getElementById("level3").style.display="block",function(e,n,o){e.onTriggerCollisionObservable.add((e=>{if(console.log(e.type,":",e.collider.transformNode.name,"-",e.collidedAgainst.transformNode.name),"Ending"==e.collidedAgainst.transformNode.name&&(console.log("YOU WINNNNNNN"),n=null),"Respawn"==e.collidedAgainst.transformNode.name&&("player1"==e.collider.transformNode.name||"player2"==e.collider.transformNode.name))if(console.log("YOU RESPAWNWNNN"),"player1"==e.collider.transformNode.name){let e=H.getMeshByName("player1");n.disableThisObject(),e.dispose(),n=new R(H,F,"player1","q","d","s"," ",-5,5,0)}else{let e=H.getMeshByName("player2");o.disableThisObject(),e.dispose(),o=new R(H,F,"player2","j","l","i","Enter",28,5,0)}}))}(n,D,W),o.CreateBowlingPlatform(),t=j(0,0,0,-8),s=j(0,25,0,-8),async function(e,n,o){F.runRenderLoop((async()=>{for(let n=0;n<e.length;n++)await e[n].getMeshId(),e[n].isPinUp()||(G++,e.splice(n,1),n--);document.getElementById("pin1").innerHTML=G+"/93 PINS",G>=93&&me(),G>=93&&(X(),K())}))}(t),async function(e,n,o){F.runRenderLoop((async()=>{for(let n=0;n<e.length;n++)await e[n].getMeshId(),e[n].isPinUp()||(z++,e.splice(n,1),n--);document.getElementById("pin2").innerHTML=z+"/93 PINS",z>92&&Le(),z>=93&&(X(),K())}))}(s),H.getMeshByName("ball"),document.addEventListener("keydown",(function(e){if("Shift"===e.key){console.log('La touche "espace" a été enfoncée');let e=H.getMeshByName("player1");D.disableThisObject(),e.dispose(),D=new R(H,F,"player1","q","d","s"," ",0,8,-8,"d","a")}})),document.addEventListener("keydown",(function(e){if("Backspace"===e.code){console.log('La touche "entrée" a été enfoncée');let e=H.getMeshByName("player2");W.disableThisObject(),e.dispose(),W=new R(H,F,"player2","ArrowLeft","ArrowRight","i","Enter",25,8,-8)}})),function(){const e=BABYLON.MeshBuilder.CreateBox("skyBox",{size:1e3},H),n=new BABYLON.StandardMaterial("skyBox",H);n.backFaceCulling=!1,n.disableLighting=!0,e.material=n,e.infiniteDistance=!0,n.reflectionTexture=new BABYLON.CubeTexture("./models/skybox/skybox2/skybox",H),n.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE}()}();let o=H.getMeshByName("player1");H.getMeshByName("player2"),e.lockedTarget=o,F.runRenderLoop((function(){H.render()}))}()}function ge(){h(),l.runRenderLoop((function(){B.render()}))}function we(){ee(),q.runRenderLoop((function(){J.render()}))}function me(){ce++}function Le(){le++}se.displayLoadingUI(),ie.executeWhenReady((function(){setTimeout((function(){se.hideLoadingUI(),re.initMusic()}),5e3)})),new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),ie),new BABYLON.FreeCamera("camera",new BABYLON.Vector3(46,4,-76),ie).setTarget(new BABYLON.Vector3(46,4.2,-75)),new u(ie).CreateMenu3dScene(0,0,0),function(){oe=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI_text"),function(){ne=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI_button");const e=BABYLON.GUI.Button.CreateSimpleButton("playButton","Play");e.width="150px",e.height="80px",e.color="white",e.cornerRadius=20,e.background="grey",e.thickness=2,e.shadowOffsetX=4,e.shadowOffsetY=4,e.shadowColor="#000000",e.shadowBlur=8,e.pointerEnterAnimation=function(){e.background="white",e.color="grey"},e.pointerOutAnimation=function(){e.background="grey",e.color="white"},e.children[0].fontFamily="UnifrakturCook",e.onPointerClickObservable.add((function(){console.log("Play button clicked"),ae(),re.stopMusic(),re.stopMusic(),ge()})),ne.addControl(e)}(),function(){const e=BABYLON.GUI.Button.CreateSimpleButton("playButton","C r e d i t s");e.width="150px",e.height="80px",e.color="white",e.cornerRadius=20,e.background="grey",e.top="100px",e.thickness=2,e.shadowOffsetX=4,e.shadowOffsetY=4,e.shadowColor="#000000",e.shadowBlur=8,e.pointerEnterAnimation=function(){e.background="white",e.color="grey"},e.pointerOutAnimation=function(){e.background="grey",e.color="white"},e.children[0].fontFamily="UnifrakturCook",e.onPointerClickObservable.add((function(){console.log("Play button clicked"),ae(),re.stopMusic(),re.stopMusic(),we()})),ne.addControl(e)}();const e=new BABYLON.GUI.TextBlock;e.text="The Cursed Olympic Games",e.color="black",e.fontSize=100,e.fontFamily="UnifrakturCook",e.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,e.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,e.paddingTop="-500px",oe.addControl(e)}(),function(){const e=BABYLON.MeshBuilder.CreateBox("skyBox",{size:1e3},ie),n=new BABYLON.StandardMaterial("skyBox",ie);n.backFaceCulling=!1,n.disableLighting=!0,e.material=n,n.reflectionTexture=new BABYLON.CubeTexture("./models/skybox/skybox1/skybox",ie),n.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE}(),se.runRenderLoop((function(){ie.render()}))})();
//# sourceMappingURL=babylonBundle.js.map