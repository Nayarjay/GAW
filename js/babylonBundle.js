(()=>{"use strict";var e={d:(n,s)=>{for(var o in s)e.o(s,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:s[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};e.d({},{wT:()=>b,DB:()=>C});const n=class{constructor(e,n){this.scene=e,this.musicName=n,this.musicSound=null,this.volumeSlider=null,document.addEventListener("DOMContentLoaded",(()=>{this.initVolumeSlider("volumeSlider")}))}initMusic(){const e=()=>{this.musicSound=new BABYLON.Sound("","./models/Music/"+this.musicName,this.scene,null,{loop:!0,autoplay:!0}),this.updateVolume()};window.addEventListener("mousemove",(()=>{"suspended"===BABYLON.Engine.audioEngine.audioContext.state?BABYLON.Engine.audioEngine.audioContext.resume().then((()=>{e()})):e()}),{once:!0})}initVolumeSlider(e){this.volumeSlider=document.getElementById(e),this.volumeSlider.addEventListener("input",(()=>{this.updateVolume()}))}updateVolume(){this.musicSound&&this.volumeSlider&&this.musicSound.setVolume(this.volumeSlider.value/100)}stopMusic(){this.musicSound&&this.musicSound.stop()}destroy(){this.stopMusic(),window.removeEventListener("mousemove",this.clickHandler),this.volumeSlider&&this.volumeSlider.removeEventListener("input",this.updateVolume),this.scene=null,this.musicName=null,this.musicSound=null,this.clickHandler=null,this.volumeSlider=null}};new BABYLON.Engine(s,!0);var s=document.getElementById("renderCanvas"),o=document.getElementById("renderCanvas"),t=new BABYLON.Engine(o,!0);new n(new BABYLON.Scene(t),"level2.mp3");var i=document.getElementById("renderCanvas"),r=new BABYLON.Engine(i,!0);new n(new BABYLON.Scene(r),"Menu.mp3");class B{constructor(e){this.scene=e}async CreateTree(e,n,s){let o,t;return BABYLON.SceneLoader.ImportMesh("","./models/","Tree.glb",this.scene,(i=>{console.log("Chargement réussi arbre",i),o=i[0],t=i[1],t.name="tronc",o.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(t,BABYLON.PhysicsShapeType.BOX,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(t,BABYLON.PhysicsShapeType.BOX,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async CreatePineTree(e,n,s){let o,t;return BABYLON.SceneLoader.ImportMesh("","./models/","Pine Tree with Snow.glb",this.scene,(i=>{console.log("Chargement réussi arbre",i),i[0].scaling.x=3,i[0].scaling.y=2,i[0].scaling.z=4,o=i[0],t=i[1],t.name="tronc",console.log(t.name),o.position=new BABYLON.Vector3(e,n,s);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,1,3),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(3,3,5),this.scene),B=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,1,3),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(3,3,5),this.scene);new BABYLON.PhysicsAggregate(t,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(t,B,{mass:0},this.scene)}),void 0,void 0,".glb")}CreateSnowManOnSki(e,n,s,o){let t;return BABYLON.SceneLoader.ImportMesh("","./models/","snowman_on_skis.glb",this.scene,(i=>{console.log("Chargement réussi SnowMan",i),t=i[0],t.name="SnowMan",t.position=new BABYLON.Vector3(e,n,s),t.setParent(o)}),void 0,void 0,".glb"),{mesh:t}}async CreateSceneProd(e,n,s){}async CreatePlayer(e,n,s){}async Zone(e,n,s){}async plane(e,n,s,o,t,i){var r=BABYLON.MeshBuilder.CreateGround("ground",{width:o,height:t,subdivisions:1},i);r.position.addInPlace(new BABYLON.Vector3(e,n,s)),r.rotation=new BABYLON.Vector3(-.1,0,0),new BABYLON.PhysicsAggregate(r,BABYLON.PhysicsShapeType.BOX,{mass:0},i);var B=new BABYLON.StandardMaterial("groundMaterial",i);return B.diffuseColor=new BABYLON.Color3(.92,.29,.28),r.material=B,r}async flatplane(e,n,s,o,t,i){var r=BABYLON.MeshBuilder.CreateGround("ground",{width:o,height:t,subdivisions:1},i);r.position.addInPlace(new BABYLON.Vector3(e,n,s)),r.rotation=new BABYLON.Vector3(0,0,0),new BABYLON.PhysicsAggregate(r,BABYLON.PhysicsShapeType.BOX,{mass:0},i);var B=new BABYLON.StandardMaterial("groundMaterial",i);return B.diffuseColor=new BABYLON.Color3(.92,.29,.28),r.material=B,r}async createDeadTree(e,n,s){let o;return BABYLON.SceneLoader.ImportMesh("","./models/","Dead Trees With Snow.glb",this.scene,(t=>{console.log("Chargement réussi arbre",t),t[0].scaling.x=30,t[0].scaling.y=20,t[0].scaling.z=20;let i=t[0];o=t[1],o.name="tronc",console.log(o.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,1,3),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(30,30,30),this.scene);i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(o,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(o,BABYLON.PhysicsShapeType.BOX,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async createSnowTree(e,n,s){let o;return BABYLON.SceneLoader.ImportMesh("","./models/","Snow Tree.glb",this.scene,(t=>{console.log("Chargement réussi arbre",t),t[0].scaling.x=10,t[0].scaling.y=10,t[0].scaling.z=10;let i=t[0];o=t[1],o.name="tronc",console.log(o.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene),B=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene);i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(o,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(o,B,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async createLitleSnowTree(e,n,s){let o;return BABYLON.SceneLoader.ImportMesh("","./models/","Pine Tree with Snow two.glb",this.scene,(t=>{console.log("Chargement réussi arbre",t),t[0].scaling.x=10,t[0].scaling.y=10,t[0].scaling.z=10;let i=t[0];o=t[1],o.name="tronc",console.log(o.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene),B=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene);i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(o,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(o,B,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}async createSnowMan(e,n,s){let o;return BABYLON.SceneLoader.ImportMesh("","./models/","SnowManRotated.glb",this.scene,(t=>{console.log("Chargement réussi arbre",t),t[0].scaling.x=1,t[0].scaling.y=1,t[0].scaling.z=1;let i=t[0];o=t[1],o.name="tronc",console.log("SNOWMAN "+i.name);const r=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,4,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene),B=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,4,-1),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(5,10,5),this.scene);i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(o,r,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(o,B,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateRampe1(e,n,s){let o=BABYLON.SceneLoader.ImportMesh("","./models/","rampe_2.glb",this.scene,(o=>{console.log("Chargement réussi",o),o[0].scaling.x=5,o[0].scaling.y=5,o[0].scaling.z=5;let t=o[0];console.log(o[1].name),t.name="Rampe";let i=o[1];t.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(i,BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene)}),void 0,void 0,".glb");return o.position=new BABYLON.Vector3(e,n,s),{bigMesh:o}}createSnowMount(e,n,s){let o=BABYLON.SceneLoader.ImportMesh("","./models/","Rock Forms 3 (White).glb",this.scene,(o=>{console.log("Chargement réussi",o),o[0].scaling.x=150,o[0].scaling.y=150,o[0].scaling.z=150;const t=new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,4,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(10,10,20),this.scene);let i=o[0];i.name="tronc",console.log(o[1].name);let r=o[1];r.name="tronc",i.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(i,t,{mass:0},this.scene).shape.isTrigger=!0,new BABYLON.PhysicsAggregate(r,BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene)}),void 0,void 0,".glb");return o.position=new BABYLON.Vector3(e,n,s),{bigMesh:o}}createFinalScene2(e,n,s){let o=BABYLON.SceneLoader.ImportMesh("","./models/","finalscene2.glb",this.scene,(o=>{console.log("Chargement réussi",o),new BABYLON.PhysicsShapeBox(new BABYLON.Vector3(0,0,0),new BABYLON.Quaternion(0,0,0,1),new BABYLON.Vector3(10,10,20),this.scene);let t=o[0];t.name="tronc",console.log(o[2].name),this.scene.getMeshByName("Cube (sol)"),t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb");return o.position=new BABYLON.Vector3(e,n,s),{bigMesh:o}}CreatePlateform(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","plateforme_scene3.glb",this.scene,(o=>{console.log("Chargement réussi plateform",o);let t=o[0];t.name="colision",t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreatePlateformlevel2(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","scene3.glb",this.scene,(o=>{console.log("Chargement réussi plateform level2",o);let t=o[0];t.name="colision",t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreatePlateform_Scene4(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","scene4_gameplay_ELEMENT.glb",this.scene,(o=>{console.log("Chargement réussi plateform",o);let t=o[0];t.name="colision",t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateBowlingPlatform(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","scene_de_bowling.glb",this.scene,(o=>{console.log("Chargement réussi plateform",o);let t=o[0];t.name="colision",t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateBowlingBall(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","Spiky Ball.glb",this.scene,(o=>{console.log("Chargement réussi ball",o);let t=o[0];t.name="ball",t.position=new BABYLON.Vector3(e,n,s),new BABYLON.PhysicsAggregate(t,BABYLON.PhysicsShapeType.SPHERE,{mass:0},this.scene)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateColiseum(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","coliseum.glb",this.scene,(o=>{console.log("Chargement réussi coliseum",o);let t=o[0];t.name="coliseum",t.position=new BABYLON.Vector3(e,n,s)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateColiseum(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","coliseum.glb",this.scene,(o=>{console.log("Chargement réussi coliseum",o);let t=o[0];t.name="coliseum",t.position=new BABYLON.Vector3(e,n,s)}),void 0,void 0,".glb"),{boundingBox:void 0}}CreateMenu3dScene(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","fmenu.glb",this.scene,(o=>{console.log("Chargement réussi du menu",o);let t=o[0];t.name="fondMenu",t.position=new BABYLON.Vector3(e,n,s)}),void 0,void 0,".glb"),{boundingBox:void 0}}async Createlevel1(e,n,s){return BABYLON.SceneLoader.ImportMesh("","./models/","level2Map.glb",this.scene,(o=>{console.log("Chargement réussi plateform",o);let t=o[0];t.name="colision",t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.scene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}CreatePlateformlevel3(e,n,s,o){return BABYLON.SceneLoader.ImportMesh("","./models/","swimingPool.glb",this.scene,(o=>{console.log("Chargement réussi plateform level2",o);let t=o[0];t.name="colision",t.position=new BABYLON.Vector3(e,n,s);let i=1;for(;i<o.length;)new BABYLON.PhysicsAggregate(o[i],BABYLON.PhysicsShapeType.MESH,{mass:0},this.cene),i++}),void 0,void 0,".glb"),{boundingBox:void 0}}}var a=document.getElementById("renderCanvas"),c=new BABYLON.Engine(a,!0),l=new BABYLON.Scene(c);let g=new n(l,"End.mp3");function d(e,n,s){BABYLON.SceneLoader.ImportMesh("","./models/","Loose.glb",l,(o=>{console.log("Chargement réussi coliseum",o);let t=o[0];t.name="playerLoose",t.position=new BABYLON.Vector3(e,n,s)}),void 0,void 0,".glb")}function h(e,n,s){BABYLON.SceneLoader.ImportMesh("","./models/","victory.glb",l,(o=>{console.log("Chargement réussi coliseum",o);let t=o[0];t.name="playerWin",t.position=new BABYLON.Vector3(e,n,s)}),void 0,void 0,".glb")}function m(e,n,s){BABYLON.SceneLoader.ImportMesh("","./models/","Trophy.glb",l,(o=>{console.log("Chargement réussi coliseum",o);let t=o[0];t.name="playerWin",t.position=new BABYLON.Vector3(e,n,s)}),void 0,void 0,".glb")}document.getElementById("renderCanvas"),new n(A,"level1.mp3"),BABYLON.SceneLoader.ShowLoadingScreen=!0;var L=document.getElementById("renderCanvas"),u=new BABYLON.Engine(L,!0),A=new BABYLON.Scene(u),O=document.getElementById("renderCanvas"),N=new BABYLON.Engine(O,!0);new n(new BABYLON.Scene(N),"level2.mp3"),document.getElementById("renderCanvas");var Y=document.getElementById("renderCanvas"),w=new BABYLON.Engine(Y,!0);new n(new BABYLON.Scene(w),"level3.mp3");var p=document.getElementById("renderCanvas"),v=new BABYLON.Engine(p,!0);new n(new BABYLON.Scene(v),"Portal_2_End_Credits.mp3");var y=document.getElementById("renderCanvas"),S=new BABYLON.Engine(y,!0);new n(new BABYLON.Scene(S),"Menu.mp3");let b=0,C=0;c.displayLoadingUI(),l.executeWhenReady((function(){setTimeout((function(){c.hideLoadingUI()}),5e3)})),new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,1,0),l),new BABYLON.FreeCamera("camera",new BABYLON.Vector3(0,4,-12.5),l).attachControl(),new B(l).CreateMenu3dScene(-44.927,-1.197,61.948),b>C?(h(-4,0,-1),d(2,0,0),m(-3.5,0,-1.5)):(h(2,0,-1),d(-4,0,0),m(2.5,0,-1.5)),BABYLON.SceneLoader.ImportMesh("","./models/","recommencer.glb",l,(e=>{console.log("Chargement réussi end scene",e);let n=e[0];n.name="EndScene",n.position=new BABYLON.Vector3(void 0,void 0,void 0)}),void 0,void 0,".glb"),g.initMusic(),function(){const e=BABYLON.MeshBuilder.CreateBox("skyBox",{size:1e3},l),n=new BABYLON.StandardMaterial("skyBox",l);n.backFaceCulling=!1,n.disableLighting=!0,e.material=n,e.infiniteDistance=!0,n.reflectionTexture=new BABYLON.CubeTexture("./models/skybox/skybox1/skybox",l),n.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE}(),c.runRenderLoop((function(){l.render()}))})();
//# sourceMappingURL=babylonBundle.js.map